<mat-card class="scrobble-header">
  <mat-card-header>
    <mat-card-title>Statistics for {{username | async}}</mat-card-title>
  </mat-card-header>
  <mat-card-content>
    <ng-container *ngIf="progress | async as p">
      <mat-card-subtitle>Progress</mat-card-subtitle>
      <app-progress [progress]="p"></app-progress>
      <mat-card-subtitle>Import/export json</mat-card-subtitle>
      <button mat-flat-button (click)="export()" matTooltip="Export stats as json"><mat-icon>file_download</mat-icon>Export</button>
      <button mat-flat-button (click)="uploadFile.click()" matTooltip="Import stats from json"><mat-icon>file_upload</mat-icon>Import</button>
      <input #uploadFile (change)="import($event)" type='file' style="display:none"/>
      <ng-container *ngIf="p.first | async as f">
        <mat-card-subtitle>Date range</mat-card-subtitle>
        <app-date-range [start]="f.date" (changed)="updateDateRange($event)"></app-date-range>
      </ng-container>
    </ng-container>
  </mat-card-content>
</mat-card>

<mat-tab-group mat-stretch-tabs>
  <mat-tab label="Lists">
    <ng-template matTabContent>
      <app-lists></app-lists>
    </ng-template>
  </mat-tab>
  <mat-tab label="Charts">
    <ng-template matTabContent>
      <app-charts></app-charts>
    </ng-template>
  </mat-tab>
</mat-tab-group>

